<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>LOMA Bubble Shooter</title>
<script type='text/javascript' src='bubble-shooter-example.js'></script>
<style>
  body {
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100vh;
    background-color: #000;
  }
  #viewport {
    border: 1px solid #000;
  }
  #startButton {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 16px;
  }
</style>
</head>
<body> 
<canvas id="viewport" width="628" height="628"></canvas>
<button id="startButton">Start</button>
<div id="controls">
  <button id="trayectoriaButton">Trayectoria</button>
  <button id="cambioColorButton">Cambio Color</button>
  <button id="derriboButton">Derribo</button>
</div>

<script>
// Crear el elemento de audio
var backgroundAudio = new Audio('https://fobdfobd.github.io/Julia-Friends/takeachance160.mp3');
backgroundAudio.loop = true;
backgroundAudio.volume = 1.0;

// Función para reproducir el audio
function playAudio() {
    backgroundAudio.play().catch((error) => {
        console.log('Autoplay no permitido, esperando interacción del usuario:', error);
    });
}

// Función para iniciar el juego y la música
function startGame() {

    // Intentar reproducir el audio al hacer clic en el botón de inicio
    playAudio();

    // Si no se reproduce automáticamente, esperar a la interacción del usuario
    document.addEventListener('click', playAudio);
    document.addEventListener('touchstart', playAudio);

    // Ocultar el botón de inicio
    startButton.style.display = 'none';
}

// Obtener el botón de inicio
var startButton = document.getElementById("startButton");

// Añadir el evento de clic al botón de inicio
startButton.addEventListener('click', startGame);
</script>
</body>
</html>
